#!/bin/bash

# Имя вашей программы
PROGRAM="./a.out"  # Замените на путь к вашей программе

# Массив с параметрами для запуска
PARAMETERS=(
    "50000 2000 1 1 1"  
    "50000 3000 1 1 1"  
    "50000 4000 1 1 1"  
    "50000 5000 1 1 1"  
    "50000 6000 1 1 1"  
    "50000 7000 1 1 1"  
    "50000 8000 1 1 1"  
    "50000 9000 1 1 1"  
    "50000 10000 1 1 1"  
    "50000 12000 1 1 1"  
    "50000 14000 1 1 1"  
    "50000 16000 1 1 1"  
    "50000 18000 1 1 1"  
    "50000 20000 1 1 1"  
    "50000 24000 1 1 1"  
    "50000 28000 1 1 1"  
    "50000 32000 1 1 1"  
    "50000 35000 1 1 1"  
    "50000 40000 1 1 1"  
)

OUTPUT_FILE="program_runs.log"

> "$OUTPUT_FILE"

for i in "${!PARAMETERS[@]}"; do
    echo "=== Запуск $((i+1)): $PROGRAM ${PARAMETERS[$i]} ===" >> "$OUTPUT_FILE"
    echo "Время начала: $(date)" >> "$OUTPUT_FILE"

    ../run.sh $PROGRAM ${PARAMETERS[$i]} >> "$OUTPUT_FILE" 2>&1

    echo "=== Завершено: $(date) ===" >> "$OUTPUT_FILE"
    echo -e "\n" >> "$OUTPUT_FILE"
done

echo "Все запуски завершены. Результаты записаны в $OUTPUT_FILE"